---
tags:
  - daily
---

### AOJ

### leetcode
### type-challenge

### Zenn執筆

### 個人開発
[[文字列の類似度を測る方法]]

[TypeScript のエラーハンドリングを考える #TypeScript - Qiita](https://qiita.com/frozenbonito/items/e708dfb3ab7c1fd3824d)
try catch でcatchにエラーのクラスを指定したりすることはできないので、下記のようにして対応する
```ts
try {
  // 例外を throw する処理
  foo();
} catch (e: unknown) {
  if (e instanceof ErrorX) {
    // ErrorX のハンドリング
    // ...
  } else if (e instanceof ErrorY) {
    // ErrorY のハンドリング
    // ...
  } else {
    // ...
  }
}
```

検索結果数の取得

div.sentinelが無限ローディングを司っている

これで一応animate-pulseが存在しなくなるまで待つことができた
```ts
  // ローディングが終わるまで待機
  await items[delta]
    .locator("div.animate-pulse")
    .first()
    .waitFor({ state: "detached" });
```
[How can I wait for elements to disappear completely from a page? | Reddit](https://www.reddit.com/r/Playwright/comments/1dl58ap/how_can_i_wait_for_elements_to_disappear/)

fa fa-spinner fa-pulse fa-fw fa-3x

読み込みを終わっていい条件
→div.sentinelが存在しない＆＆div.animate-pulseが存在しない

プロキシの場合に送られてくるjs query のurl
https://p4b7ht5p18-3.algolianet.com/1/indexes/*/queries?x-algolia-agent=Algolia%20for%20JavaScript%20(4.17.0)%3B%20Browser%20(lite)&x-algolia-api-key=cd90c9c918df8b42327310ade1f599bd&x-algolia-application-id=P4B7HT5P18

自分のpcからだと以下のようになる
https://p4b7ht5p18-dsn.algolia.net/

特定のAPIにリクエストを送り、返ってくるまでドンピシャで待つ
```ts
  const response = await page.waitForResponse(
    (response) =>
      response.url().includes("p4b7ht5p18") &&
      response.status() === 200
  );
```

そもそもAPIを呼んだ時点で実はほとんどデータが読み込めていて、
animate-pulseはブラウザの表示をかるくすｒ

### Terraform / AWS

### Frontend Mentor

### React Testing

### Obsidian研究

### その他
